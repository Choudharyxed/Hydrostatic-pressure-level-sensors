# Hydrostatic-pressure-level-sensors: Serverless Computing for IoT
Hydrostatic pressure level sensors are submersible sensors used for measuring the level of water in deep tanks.

## Table of Content
[- Introduction](#Introduction): Introduction to the Project\
[- Architecture](#Architecture): Architecture of the Project\
[- Project structure](#Project-structure): Based structure of the Project\
[- Getting started](#Getting-started): Building the Project

## Introduction

This project is a demonstration of serverless computing and submitted as a project for subect of Serverless Computing fir IoT.

The main idea is to mimic a **hydeostatic pressure level senor** placed inside a water tank which will **alert** the user when the level on the water inside the tank is **low**.\
The notification is generated by the **Telegram bot**. The user, when notified, have to select the most suitable option from the below options presented to them with notification via Telegram bot. This options are as under:

- **Turn on water pump.**
- **Warn someone to turn on the water pump.**
- **Ignore the alert.**

## Architecture

The main phase of the project is to mimic the sending of the data by a hydrostatic pressure level sensor  as there is no real sensor available in this project.

In this project, the sending data can be done by two applications:

- By creating a function on **Nuclio** (Function created with name **waterlevelrandomvalue** in this project).
- By using a **MQTT client application on a Smartphone**.

The sending data is an interger value between 0 and 100 and indicated the **percentage of the water level** in the tank. The value is published in the queue '**iot/waterlevel**' of **RabbitMQ**.

When a value issued in the queue, a function on Nuclio created with the name **waterlevelsensor** is triggered, which then processes the issued value. This function check if the received value is low set for the water level in tank which is **&le;10%** and if so, it will publish a new message in the queue '**iot/alerts**', otherwise it will log in the queue of '**iot/logs**'.


**Bot_Telegram.js** intercept the publications in **iot/alerts** and a notification message is sent to the user via a **Telegram Bot**

After receiving the notification, the user have to choose most likely option from the given options mentioned earlier.
![architecture](https://user-images.githubusercontent.com/107116860/172752884-b2474a55-f504-422c-83f2-edae207d1d25.jpeg)

